"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.router = void 0;
const express_1 = require("express");
const AuthController_1 = require("./controller/AuthController");
const EvaluationController_1 = require("./controller/EvaluationController");
const GameController_1 = require("./controller/GameController");
const PlatformController_1 = require("./controller/PlatformController");
const UserController_1 = require("./controller/UserController");
const ensureAuthenticated_1 = require("./middlewares/ensureAuthenticated");
const uploadFile_1 = require("./middlewares/uploadFile");
const userController = new UserController_1.UserController();
const platformController = new PlatformController_1.PlatformController();
const gameController = new GameController_1.GameController();
const evaluationController = new EvaluationController_1.EvaluationController();
const authController = new AuthController_1.AuthController();
const router = (0, express_1.Router)();
exports.router = router;
router.get('/', (req, res) => {
    express_1.response.json({ message: 'Welcome api-games-colab' });
});
router.post('/users', userController.create);
router.get('/users', userController.getUsers);
router.get('/users/paged', userController.getUsersPaged);
router.get('/users/:id', userController.getUserById);
router.delete('/users/:id', ensureAuthenticated_1.ensureAuthenticated, userController.delete);
router.put('/users/:id', ensureAuthenticated_1.ensureAuthenticated, userController.putUserById);
router.post('/platforms', ensureAuthenticated_1.ensureAuthenticated, platformController.create);
router.get('/platforms', platformController.getPlatforms);
router.get('/platforms/:id', platformController.getPlatformById);
router.delete('/platforms/:id', ensureAuthenticated_1.ensureAuthenticated, platformController.delete);
router.put('/platforms/:id', ensureAuthenticated_1.ensureAuthenticated, platformController.putPlatformById);
router.post('/games/upload', ensureAuthenticated_1.ensureAuthenticated, uploadFile_1.UPLOAD_IMAGE.single('file'), gameController.createWithUpload);
router.post('/games', ensureAuthenticated_1.ensureAuthenticated, gameController.create);
router.get('/games', gameController.getGamesPlatform);
router.get('/games/:id', gameController.getGamePlatformById);
router.delete('/games/:id', ensureAuthenticated_1.ensureAuthenticated, gameController.delete);
router.put('/games/:id', ensureAuthenticated_1.ensureAuthenticated, gameController.putGameById);
router.post('/evaluations', ensureAuthenticated_1.ensureAuthenticated, evaluationController.create);
router.get('/evaluations', evaluationController.getEvaluations);
router.get('/evaluations/:id', evaluationController.getEvaluationById);
router.delete('/evaluations/:id', ensureAuthenticated_1.ensureAuthenticated, evaluationController.delete);
router.put('/evaluations/:id', ensureAuthenticated_1.ensureAuthenticated, evaluationController.putEvaluationById);
router.get('/evaluationByIdGame/:idGame', ensureAuthenticated_1.ensureAuthenticated, evaluationController.getEvaluationByIdGame);
router.get('/getTopThreeGames', ensureAuthenticated_1.ensureAuthenticated, evaluationController.getTopThreeGames);
router.post('/signin', authController.handle);
